{"remainingRequest":"E:\\jsproject\\hello-world\\node_modules\\babel-loader\\lib\\index.js!E:\\jsproject\\hello-world\\src\\common\\wx.js","dependencies":[{"path":"E:\\jsproject\\hello-world\\src\\common\\wx.js","mtime":1562035447129},{"path":"E:\\jsproject\\hello-world\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\jsproject\\hello-world\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.string.link\";\nimport wx from \"weixin-js-sdk\";\nimport qs from 'qs';\nexport default {\n  name: 'wxConfig',\n  methods: {\n    wxConfig: function wxConfig(opt) {\n      var self = this;\n      var shareInfo = {\n        title: '',\n        desc: '',\n        link: '',\n        imgUrl: ''\n      };\n\n      if (opt) {\n        for (var item in shareInfo) {\n          shareInfo[item] = opt[item] ? opt[item] : self.shareConfig[item];\n        }\n      } else {\n        shareInfo = this.shareConfig;\n      }\n\n      return self.$axios({\n        url: \"/h5/dailyevent.php?op=getWeixinSign\",\n        method: \"POST\",\n        data: qs.stringify({\n          url: encodeURIComponent(window.location.href)\n        })\n      }).then(function (res) {\n        // return new Promise((resolve, reject) => {\n        if (res.data.code == 1) {\n          wx.config({\n            debug: false,\n            appId: res.data.data.appid,\n            timestamp: res.data.data.timestamp,\n            nonceStr: res.data.data.nonceStr,\n            signature: res.data.data.signature,\n            jsApiList: [\"checkJsApi\", \"onMenuShareTimeline\", \"onMenuShareAppMessage\", \"onMenuShareQQ\", \"onMenuShareWeibo\", \"hideMenuItems\", \"showMenuItems\", \"hideAllNonBaseMenuItem\", \"showAllNonBaseMenuItem\", \"translateVoice\", \"startRecord\", \"stopRecord\", \"onRecordEnd\", \"playVoice\", \"pauseVoice\", \"stopVoice\", \"uploadVoice\", \"downloadVoice\", \"chooseImage\", \"previewImage\", \"uploadImage\", \"downloadImage\", \"getNetworkType\", \"openLocation\", \"getLocation\", \"hideOptionMenu\", \"showOptionMenu\", \"closeWindow\", \"scanQRCode\", \"chooseWXPay\", \"openProductSpecificView\", \"addCard\", \"chooseCard\", \"openCard\"]\n          });\n          wx.ready(function () {\n            self.wxShare(shareInfo.title, shareInfo.desc, shareInfo.link, shareInfo.imgUrl);\n          });\n        }\n      });\n    },\n    wxShare: function wxShare(title, desc, link, imgUrl) {\n      //朋友圈\n      wx.onMenuShareTimeline({\n        title: title,\n        // 分享标题\n        link: link,\n        // 分享链接\n        imgUrl: imgUrl // 分享图标\n\n      }); //分享给朋友\n\n      wx.onMenuShareAppMessage({\n        title: title,\n        // 分享标题\n        desc: desc,\n        // 分享描述\n        link: link,\n        // 分享链接\n        imgUrl: imgUrl // 分享图标\n\n      }); //QQ\n\n      wx.onMenuShareQQ({\n        title: title,\n        // 分享标题\n        desc: desc,\n        // 分享描述\n        link: link,\n        // 分享链接\n        imgUrl: imgUrl // 分享图标\n\n      }); //腾讯微博\n\n      wx.onMenuShareWeibo({\n        title: title,\n        // 分享标题\n        desc: desc,\n        // 分享描述\n        link: link,\n        // 分享链接\n        imgUrl: imgUrl // 分享图标\n\n      }); //QQ空间\n\n      wx.onMenuShareQZone({\n        title: title,\n        // 分享标题\n        desc: desc,\n        // 分享描述\n        link: link,\n        // 分享链接\n        imgUrl: imgUrl // 分享图标\n\n      });\n    }\n  }\n};",{"version":3,"sources":["E:\\jsproject\\hello-world\\src\\common\\wx.js"],"names":["wx","qs","name","methods","wxConfig","opt","self","shareInfo","title","desc","link","imgUrl","item","shareConfig","$axios","url","method","data","stringify","encodeURIComponent","window","location","href","then","res","code","config","debug","appId","appid","timestamp","nonceStr","signature","jsApiList","ready","wxShare","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone"],"mappings":"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","sourcesContent":["import wx from \"weixin-js-sdk\";\nimport qs from 'qs'\nexport default {\n  name: 'wxConfig',\n  methods: {\n    wxConfig(opt) {\n      let self = this;\n      let shareInfo = {\n        title:'',\n        desc:'',\n        link:'',\n        imgUrl:''\n      }\n      if(opt){\n        for(let item in shareInfo){\n          shareInfo[item] = opt[item]?opt[item]:self.shareConfig[item]\n        }\n      }else{\n        shareInfo = this.shareConfig\n      }\n      return self.$axios({\n        url: \"/h5/dailyevent.php?op=getWeixinSign\",\n        method: \"POST\",\n        data: qs.stringify({\n          url: encodeURIComponent(window.location.href)\n        })\n      }).then(res => {\n        // return new Promise((resolve, reject) => {\n        if (res.data.code == 1) {\n          wx.config({\n            debug: false,\n            appId: res.data.data.appid,\n            timestamp: res.data.data.timestamp,\n            nonceStr: res.data.data.nonceStr,\n            signature: res.data.data.signature,\n            jsApiList: [\n              \"checkJsApi\",\n              \"onMenuShareTimeline\",\n              \"onMenuShareAppMessage\",\n              \"onMenuShareQQ\",\n              \"onMenuShareWeibo\",\n              \"hideMenuItems\",\n              \"showMenuItems\",\n              \"hideAllNonBaseMenuItem\",\n              \"showAllNonBaseMenuItem\",\n              \"translateVoice\",\n              \"startRecord\",\n              \"stopRecord\",\n              \"onRecordEnd\",\n              \"playVoice\",\n              \"pauseVoice\",\n              \"stopVoice\",\n              \"uploadVoice\",\n              \"downloadVoice\",\n              \"chooseImage\",\n              \"previewImage\",\n              \"uploadImage\",\n              \"downloadImage\",\n              \"getNetworkType\",\n              \"openLocation\",\n              \"getLocation\",\n              \"hideOptionMenu\",\n              \"showOptionMenu\",\n              \"closeWindow\",\n              \"scanQRCode\",\n              \"chooseWXPay\",\n              \"openProductSpecificView\",\n              \"addCard\",\n              \"chooseCard\",\n              \"openCard\"\n            ]\n          });\n          wx.ready(function() {\n            self.wxShare(shareInfo.title, shareInfo.desc, shareInfo.link, shareInfo.imgUrl)\n          })\n        }\n      });\n    },\n    wxShare(title, desc, link, imgUrl) {\n      //朋友圈\n      wx.onMenuShareTimeline({\n        title: title, // 分享标题\n        link: link, // 分享链接\n        imgUrl: imgUrl // 分享图标\n      });\n      //分享给朋友\n      wx.onMenuShareAppMessage({\n        title: title, // 分享标题\n        desc: desc, // 分享描述\n        link: link, // 分享链接\n        imgUrl: imgUrl // 分享图标\n      });\n      //QQ\n      wx.onMenuShareQQ({\n        title: title, // 分享标题\n        desc: desc, // 分享描述\n        link: link, // 分享链接\n        imgUrl: imgUrl // 分享图标\n      });\n      //腾讯微博\n      wx.onMenuShareWeibo({\n        title: title, // 分享标题\n        desc: desc, // 分享描述\n        link: link, // 分享链接\n        imgUrl: imgUrl // 分享图标\n      });\n      //QQ空间\n      wx.onMenuShareQZone({\n        title: title, // 分享标题\n        desc: desc, // 分享描述\n        link: link, // 分享链接\n        imgUrl: imgUrl // 分享图标\n      });\n    }\n  }\n}\n"]}]}
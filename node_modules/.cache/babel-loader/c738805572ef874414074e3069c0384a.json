{"remainingRequest":"E:\\jsproject\\hello-world\\node_modules\\thread-loader\\dist\\cjs.js!E:\\jsproject\\hello-world\\node_modules\\babel-loader\\lib\\index.js!E:\\jsproject\\hello-world\\src\\common\\wx.js","dependencies":[{"path":"E:\\jsproject\\hello-world\\src\\common\\wx.js","mtime":1562035447129},{"path":"E:\\jsproject\\hello-world\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\jsproject\\hello-world\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\jsproject\\hello-world\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.string.link\";\nimport wx from \"weixin-js-sdk\";\nimport qs from 'qs';\nexport default {\n  name: 'wxConfig',\n  methods: {\n    wxConfig: function wxConfig(opt) {\n      var self = this;\n      var shareInfo = {\n        title: '',\n        desc: '',\n        link: '',\n        imgUrl: ''\n      };\n\n      if (opt) {\n        for (var item in shareInfo) {\n          shareInfo[item] = opt[item] ? opt[item] : self.shareConfig[item];\n        }\n      } else {\n        shareInfo = this.shareConfig;\n      }\n\n      return self.$axios({\n        url: \"/h5/dailyevent.php?op=getWeixinSign\",\n        method: \"POST\",\n        data: qs.stringify({\n          url: encodeURIComponent(window.location.href)\n        })\n      }).then(function (res) {\n        // return new Promise((resolve, reject) => {\n        if (res.data.code == 1) {\n          wx.config({\n            debug: false,\n            appId: res.data.data.appid,\n            timestamp: res.data.data.timestamp,\n            nonceStr: res.data.data.nonceStr,\n            signature: res.data.data.signature,\n            jsApiList: [\"checkJsApi\", \"onMenuShareTimeline\", \"onMenuShareAppMessage\", \"onMenuShareQQ\", \"onMenuShareWeibo\", \"hideMenuItems\", \"showMenuItems\", \"hideAllNonBaseMenuItem\", \"showAllNonBaseMenuItem\", \"translateVoice\", \"startRecord\", \"stopRecord\", \"onRecordEnd\", \"playVoice\", \"pauseVoice\", \"stopVoice\", \"uploadVoice\", \"downloadVoice\", \"chooseImage\", \"previewImage\", \"uploadImage\", \"downloadImage\", \"getNetworkType\", \"openLocation\", \"getLocation\", \"hideOptionMenu\", \"showOptionMenu\", \"closeWindow\", \"scanQRCode\", \"chooseWXPay\", \"openProductSpecificView\", \"addCard\", \"chooseCard\", \"openCard\"]\n          });\n          wx.ready(function () {\n            self.wxShare(shareInfo.title, shareInfo.desc, shareInfo.link, shareInfo.imgUrl);\n          });\n        }\n      });\n    },\n    wxShare: function wxShare(title, desc, link, imgUrl) {\n      //朋友圈\n      wx.onMenuShareTimeline({\n        title: title,\n        // 分享标题\n        link: link,\n        // 分享链接\n        imgUrl: imgUrl // 分享图标\n\n      }); //分享给朋友\n\n      wx.onMenuShareAppMessage({\n        title: title,\n        // 分享标题\n        desc: desc,\n        // 分享描述\n        link: link,\n        // 分享链接\n        imgUrl: imgUrl // 分享图标\n\n      }); //QQ\n\n      wx.onMenuShareQQ({\n        title: title,\n        // 分享标题\n        desc: desc,\n        // 分享描述\n        link: link,\n        // 分享链接\n        imgUrl: imgUrl // 分享图标\n\n      }); //腾讯微博\n\n      wx.onMenuShareWeibo({\n        title: title,\n        // 分享标题\n        desc: desc,\n        // 分享描述\n        link: link,\n        // 分享链接\n        imgUrl: imgUrl // 分享图标\n\n      }); //QQ空间\n\n      wx.onMenuShareQZone({\n        title: title,\n        // 分享标题\n        desc: desc,\n        // 分享描述\n        link: link,\n        // 分享链接\n        imgUrl: imgUrl // 分享图标\n\n      });\n    }\n  }\n};",null]}